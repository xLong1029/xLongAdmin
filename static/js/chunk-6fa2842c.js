(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fa2842c"],{"039c":function(e,t,o){"use strict";var i=o("a808"),r=o.n(i);r.a},"7e79":function(e,t,o){!function(t,o){e.exports=o()}(0,(function(){return function(e){function t(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(5),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:""}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:Number,default:0},autoCropHeight:{type:Number,default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){if(this.high&&!this.full){var t=window.devicePixelRatio;e.width=e.width*t,e.height=e.height*t}this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=~~e.width,e.height=~~e.height,e}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.cropW=~~this.cropW,this.showPreview()},cropH:function(){this.cropH=~~this.cropH,this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},rotate:function(){this.showPreview(),this.autoCrop&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkedImg:function(){var e=this;if(""!==this.img){this.rotate=0,this.loading=!0,this.scale=1,this.clearCrop();var t=document.createElement("canvas"),o=new Image,i=0;o.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),!1;var n=o.width,a=o.height,s=t.getContext("2d"),c=0,h=0,p=0,l=0;s.save(),r.default.getData(o,(function(){switch(r.default.getAllTags(o),e.orientation=r.default.getTag(o,"Orientation"),e.orientation){case 6:i=1;break;case 8:i=-1;break;default:i=0}var u=e.maxImgSize;switch(n>u&&(a=a/n*u,n=u),a>u&&(n=n/a*u,a=u),i){case 0:t.width=n,t.height=a,c=n,h=a,2===e.orientation&&(s.translate(n,0),s.scale(-1,1)),4===e.orientation&&(s.translate(0,a),s.scale(1,-1)),5===e.orientation&&(t.height=n,t.width=a,s.rotate(.5*Math.PI),s.scale(1,-1)),7===e.orientation&&(t.height=n,t.width=a,s.rotate(.5*Math.PI),s.translate(n,-a),s.scale(-1,1)),3===e.orientation&&(t.height=a,t.width=n,s.translate(n/2,a/2),s.rotate(180*Math.PI/180),s.translate(-n/2,-a/2));break;case 1:case-3:t.width=a,t.height=n,s.rotate(90*i*Math.PI/180),c=n,h=a,l=-a;break;case 2:case-2:t.width=n,t.height=a,s.rotate(90*i*Math.PI/180),c=n,h=a,p=-n,l=-a;break;case 3:case-1:t.width=a,t.height=n,s.rotate(90*i*Math.PI/180),c=n,h=a,p=-n,l=0;break;default:t.width=n,t.height=a,c=n,h=a}s.drawImage(o,p,l,c,h),s.restore(),t.toBlob((function(t){var o=URL.createObjectURL(t);e.imgs=o}),"image/"+e.outputType,1)}))},o.onerror=function(){e.$emit("imgLoad","error")},o.crossOrigin="*",o.src=this.img}},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(e.clientX?e.clientX:e.touches[0].clientX)-this.x,this.moveY=(e.clientY?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var o=this.scale,i={x:this.touches[0].clientX,y:this.touches[0].clientY},r={x:e.touches[0].clientX,y:e.touches[0].clientY},n={x:this.touches[1].clientX,y:this.touches[1].clientY},a={x:e.touches[1].clientX,y:e.touches[1].clientY},s=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)),c=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),h=~~(c-s),p=1;p=p/this.trueWidth>p/this.trueHeight?p/this.trueHeight:p/this.trueWidth,p=p>.1?.1:p;var l=p*h;if(!this.touchNow){if(this.touchNow=!0,h>0?o+=Math.abs(l):h<0&&o>Math.abs(l)&&(o-=Math.abs(l)),this.touches=e.touches,setTimeout((function(){t.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o}},cancleTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var o=e.clientX?e.clientX:e.touches[0].clientX,i=e.clientY?e.clientY:e.touches[0].clientY,r=void 0,n=void 0;r=~~(o-this.moveX),n=~~(i-this.moveY),this.$nextTick((function(){if(t.centerBox){var e=t.getImgAxis(r,n,t.scale),o=t.getCropAxis(),i=t.trueHeight*t.scale,a=t.trueWidth*t.scale,s=void 0,c=void 0,h=void 0,p=void 0;switch(t.rotate){case 1:case-1:case 3:case-3:s=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(i-a)/2,c=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(a-i)/2,h=s-i+t.cropW,p=c-a+t.cropH;break;default:s=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,c=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,h=s-a+t.cropW,p=c-i+t.cropH}e.x1>o.x1&&(r=s-1),e.y1>=o.y1&&(n=c),e.x2<=o.x2&&(r=h),e.y2<=o.y2&&(n=p+1)}t.x=r,t.y=n,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()})}))},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",this.canScale&&window.addEventListener(this.support,this.changeSize)},cancleScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var o=this.scale,i=e.deltaY||e.wheelDelta;i=navigator.userAgent.indexOf("Firefox")>0?30*i:i;var r=this.coe;r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth;var n=r*i;n<0?o+=Math.abs(n):o>Math.abs(n)&&(o-=Math.abs(n));var a=n<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){t.scaling=!1,t.coe=t.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o},changeScale:function(e){var t=this.scale;e=e||1;var o=20;if(o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth,e*=o,e>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var o=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,i=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick((function(){var e=~~(o-t.cropX),r=~~(i-t.cropY);if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var n=~~(t.cropW/t.fixedNumber[0]*t.fixedNumber[1]);n+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=~~(t.cropH/t.fixedNumber[1]*t.fixedNumber[0]),t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=n,t.cropOffsertY=t.cropOffsertY}else r>0?(t.cropH=r+t.cropChangeY>t.h?t.h-t.cropChangeY:r,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(r)>t.h?t.cropChangeY:Math.abs(r),t.cropOffsertY=t.cropChangeY+r>0?t.cropChangeY+r:0)}))},changeCropSize:function(e,t,o,i,r){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=o,this.changeCropTypeX=i,this.changeCropTypeY=r,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(e){var t=this;e.preventDefault();var o=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,i=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0,r=this.w,n=this.h,a=0,s=0;if(this.centerBox){var c=this.getImgAxis(),h=c.x2,p=c.y2;a=c.x1>0?c.x1:0,s=c.y1>0?c.y1:0,r>h&&(r=h),n>p&&(n=p)}this.$nextTick((function(){var e=~~(o-t.cropX),c=~~(i-t.cropY);if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=r-t.cropChangeX-e<=r-a?t.cropOldW-e:t.cropOldW+t.cropChangeX-a,t.cropOffsertX=r-t.cropChangeX-e<=r-a?t.cropChangeX+e:a):(t.cropW=Math.abs(e)+t.cropChangeX<=r?Math.abs(e)-t.cropOldW:r-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=r?t.cropOldW+e:r-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=r-t.cropChangeX+Math.abs(e+t.cropOldW)<=r-a?Math.abs(e+t.cropOldW):t.cropChangeX-a,t.cropOffsertX=r-t.cropChangeX+Math.abs(e+t.cropOldW)<=r-a?t.cropChangeX-Math.abs(e+t.cropOldW):a))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-c>0?(t.cropH=n-t.cropChangeY-c<=n-s?t.cropOldH-c:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=n-t.cropChangeY-c<=n-s?t.cropChangeY+c:s):(t.cropH=Math.abs(c)+t.cropChangeY<=n?Math.abs(c)-t.cropOldH:n-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+c>0?(t.cropH=t.cropOldH+c+t.cropOffsertY<=n?t.cropOldH+c:n-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=n-t.cropChangeY+Math.abs(c+t.cropOldH)<=n-s?Math.abs(c+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=n-t.cropChangeY+Math.abs(c+t.cropOldH)<=n-s?t.cropChangeY-Math.abs(c+t.cropOldH):s))),t.canChangeX&&t.fixed){var h=~~(t.cropW/t.fixedNumber[0]*t.fixedNumber[1]);h+t.cropOffsertY>n?(t.cropH=n-t.cropOffsertY,t.cropW=~~(t.cropH/t.fixedNumber[1]*t.fixedNumber[0])):t.cropH=h}if(t.canChangeY&&t.fixed){var p=~~(t.cropH/t.fixedNumber[1]*t.fixedNumber[0]);p+t.cropOffsertX>r?(t.cropW=r-t.cropOffsertX,t.cropH=~~(t.cropW/t.fixedNumber[0]*t.fixedNumber[1])):t.cropW=p}}))},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY,i=void 0,r=void 0;i=t-this.cropOffsertX,r=o-this.cropOffsertY,this.cropX=i,this.cropY=r,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var o=this,i=0,r=0;e&&(e.preventDefault(),i=e.clientX?e.clientX:e.touches[0].clientX,r=e.clientY?e.clientY:e.touches[0].clientY),this.$nextTick((function(){var e=void 0,n=void 0,a=~~(i-o.cropX),s=~~(r-o.cropY);if(t&&(a=o.cropOffsertX,s=o.cropOffsertY),e=a<=1?1:~~(a+o.cropW)>o.w?o.w-o.cropW-1:a,n=s<=1?1:~~(s+o.cropH)>o.h?o.h-o.cropH-1:s,o.centerBox){var c=o.getImgAxis();e<c.x1&&(e=c.x1+1),e+o.cropW>c.x2&&(e=c.x2-o.cropW),n<c.y1&&(n=c.y1),n+o.cropH>c.y2&&(n=c.y2-o.cropH-1)}o.cropOffsertX=e,o.cropOffsertY=n,o.$emit("cropMoving",{moving:!0,axis:o.getCropAxis()})}))},getImgAxis:function(e,t,o){e=e||this.x,t=t||this.y,o=o||this.scale;var i={x1:0,x2:0,y1:0,y2:0},r=this.trueWidth*o,n=this.trueHeight*o;switch(this.rotate){case 0:i.x1=~~(e+this.trueWidth*(1-o)/2),i.x2=~~(i.x1+this.trueWidth*o),i.y1=~~(t+this.trueHeight*(1-o)/2),i.y2=~~(i.y1+this.trueHeight*o);break;case 1:case-1:case 3:case-3:i.x1=~~(e+this.trueWidth*(1-o)/2)+(r-n)/2,i.x2=~~(i.x1+this.trueHeight*o),i.y1=~~(t+this.trueHeight*(1-o)/2)+(n-r)/2,i.y2=~~(i.y1+this.trueWidth*o);break;default:i.x1=~~(e+this.trueWidth*(1-o)/2),i.x2=~~(i.x1+this.trueWidth*o),i.y1=~~(t+this.trueHeight*(1-o)/2),i.y2=~~(i.y1+this.trueHeight*o)}return i},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()})},getCropData:function(e){var t=this,o=document.createElement("canvas"),i=new Image,r=this.rotate,n=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,c=this.cropOffsertY;i.onload=function(){if(0!=~~t.cropW){var h=o.getContext("2d"),p=1;t.high&!t.full&&(p=window.devicePixelRatio);var l=t.cropW*p,u=t.cropH*p,d=n*t.scale*p,f=a*t.scale*p,g=(t.x-s+t.trueWidth*(1-t.scale)/2)*p,m=(t.y-c+t.trueHeight*(1-t.scale)/2)*p;switch(o.width=l,o.height=u,h.save(),r){case 0:t.full?(o.width=l/t.scale,o.height=u/t.scale,h.drawImage(i,g/t.scale,m/t.scale,d/t.scale,f/t.scale)):h.drawImage(i,g,m,d,f);break;case 1:case-3:t.full?(o.width=l/t.scale,o.height=u/t.scale,g=g/t.scale+(d/t.scale-f/t.scale)/2,m=m/t.scale+(f/t.scale-d/t.scale)/2,h.rotate(90*r*Math.PI/180),h.drawImage(i,m,-g-f/t.scale,d/t.scale,f/t.scale)):(g+=(d-f)/2,m+=(f-d)/2,h.rotate(90*r*Math.PI/180),h.drawImage(i,m,-g-f,d,f));break;case 2:case-2:t.full?(o.width=l/t.scale,o.height=u/t.scale,h.rotate(90*r*Math.PI/180),g/=t.scale,m/=t.scale,h.drawImage(i,-g-d/t.scale,-m-f/t.scale,d/t.scale,f/t.scale)):(h.rotate(90*r*Math.PI/180),h.drawImage(i,-g-d,-m-f,d,f));break;case 3:case-1:t.full?(o.width=l/t.scale,o.height=u/t.scale,g=g/t.scale+(d/t.scale-f/t.scale)/2,m=m/t.scale+(f/t.scale-d/t.scale)/2,h.rotate(90*r*Math.PI/180),h.drawImage(i,-m-d/t.scale,g,d/t.scale,f/t.scale)):(g+=(d-f)/2,m+=(f-d)/2,h.rotate(90*r*Math.PI/180),h.drawImage(i,-m-d,g,d,f));break;default:t.full?(o.width=l/t.scale,o.height=u/t.scale,h.drawImage(i,g/t.scale,m/t.scale,d/t.scale,f/t.scale)):h.drawImage(i,g,m,d,f)}h.restore()}else{var v=n*t.scale,w=a*t.scale,C=o.getContext("2d");switch(C.save(),r){case 0:o.width=v,o.height=w,C.drawImage(i,0,0,v,w);break;case 1:case-3:o.width=w,o.height=v,C.rotate(90*r*Math.PI/180),C.drawImage(i,0,-w,v,w);break;case 2:case-2:o.width=v,o.height=w,C.rotate(90*r*Math.PI/180),C.drawImage(i,-v,-w,v,w);break;case 3:case-1:o.width=w,o.height=v,C.rotate(90*r*Math.PI/180),C.drawImage(i,-v,0,v,w);break;default:o.width=v,o.height=w,C.drawImage(i,0,0,v,w)}C.restore()}var x=o.toDataURL("image/"+t.outputType,t.outputSize);e(x)},"data"!==this.img.substr(0,4)&&(i.crossOrigin="anonymous"),i.src=this.imgs},getCropBlob:function(e){this.getCropData((function(t){for(var o=t.split(","),i=o[0].match(/:(.*?);/)[1],r=atob(o[1]),n=r.length,a=new Uint8Array(n);n--;)a[n]=r.charCodeAt(n);e(new Blob([a],{type:i}))}))},showPreview:function(){var e={};e.div={width:this.cropW+"px",height:this.cropH+"px"},e.img={width:this.trueWidth+"px",height:this.trueHeight+"px",transform:"scale("+this.scale+","+this.scale+") translate3d("+(this.x-this.cropOffsertX)/this.scale+"px,"+(this.y-this.cropOffsertY)/this.scale+"px,0)rotateZ("+90*this.rotate+"deg)"},e.w=this.cropW,e.h=this.cropH,e.url=this.imgs,this.$emit("realTime",e)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=~~window.getComputedStyle(e.$refs.cropper).width.replace("px",""),e.h=~~window.getComputedStyle(e.$refs.cropper).height.replace("px",""),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:(e.trueWidth>e.w&&(e.scale=e.w/e.trueWidth),e.trueHeight*e.scale>e.h&&(e.scale=e.h/e.trueHeight)),e.$nextTick((function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("imgLoad","success")}))},t.onerror=function(){e.$emit("imgLoad","error")},t.src=this.imgs},goAutoCrop:function(e,t){this.clearCrop(),this.cropping=!0;var o=this.w,i=this.h;if(this.centerBox){var r=this.trueWidth*this.scale,n=this.trueHeight*this.scale;o=r<o?r:o,i=n<i?n:i}var a=e||this.autoCropWidth,s=t||this.autoCropHeight;0!==a&&0!==s||(a=.8*o,s=.8*i),a=a>o?o:a,s=s>i?i:s,this.fixed&&(s=a/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(s=this.h,a=s/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(a,s)},changeCrop:function(e,t){var o=this;this.cropW=e,this.cropH=t,this.cropOffsertX=(this.w-e)/2,this.cropOffsertY=(this.h-t)/2,this.centerBox&&this.$nextTick((function(){o.moveCrop(null,!0)}))},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){e.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,o){e=e||this.x,t=t||this.y,o=o||this.scale;var i=!0;if(this.centerBox){var r=this.getImgAxis(e,t,o),n=this.getCropAxis();r.x1>=n.x1&&(i=!1),r.x2<=n.x2&&(i=!1),r.y1>=n.y1&&(i=!1),r.y2<=n.y2&&(i=!1)}return i}},mounted:function(){var e=this;this.showPreview(),this.checkedImg();var t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,o,i){for(var r=atob(this.toDataURL(o,i).split(",")[1]),n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);t(new Blob([a],{type:e.type||"image/png"}))}})},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}}},function(e,t,o){"use strict";function i(e){o(8)}Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=o.n(r);for(var a in r)["default","default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(a);var s=o(7),c=o(6),h=i,p=o.i(c.a)(n.a,s.a,s.b,!1,h,"data-v-2e1a5ed7",null);t.default=p.exports},function(e,t,o){"use strict";var i=o(1);e.exports=i},function(e,t,o){t=e.exports=o(4)(),t.push([e.i,'.vue-cropper[data-v-2e1a5ed7]{position:relative;width:100%;height:100%;box-sizing:border-box;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;direction:ltr;touch-action:none;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-box-canvas[data-v-2e1a5ed7],.cropper-box[data-v-2e1a5ed7],.cropper-crop-box[data-v-2e1a5ed7],.cropper-drag-box[data-v-2e1a5ed7],.cropper-face[data-v-2e1a5ed7]{position:absolute;top:0;right:0;bottom:0;left:0;user-select:none}.cropper-box-canvas img[data-v-2e1a5ed7]{position:relative;text-align:left;user-select:none;transform:none;max-width:none;max-height:none}.cropper-box[data-v-2e1a5ed7]{overflow:hidden}.cropper-move[data-v-2e1a5ed7]{cursor:move}.cropper-crop[data-v-2e1a5ed7]{cursor:crosshair}.cropper-modal[data-v-2e1a5ed7]{background:rgba(0,0,0,.5)}.cropper-view-box[data-v-2e1a5ed7]{display:block;overflow:hidden;width:100%;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);user-select:none}.cropper-view-box img[data-v-2e1a5ed7]{user-select:none;text-align:left;max-width:none;max-height:none}.cropper-face[data-v-2e1a5ed7]{top:0;left:0;background-color:#fff;opacity:.1}.crop-info[data-v-2e1a5ed7]{position:absolute;left:0;min-width:65px;text-align:center;color:#fff;line-height:20px;background-color:rgba(0,0,0,.8);font-size:12px}.crop-line[data-v-2e1a5ed7]{position:absolute;display:block;width:100%;height:100%;opacity:.1}.line-w[data-v-2e1a5ed7]{top:-3px;left:0;height:5px;cursor:n-resize}.line-a[data-v-2e1a5ed7]{top:0;left:-3px;width:5px;cursor:w-resize}.line-s[data-v-2e1a5ed7]{bottom:-3px;left:0;height:5px;cursor:s-resize}.line-d[data-v-2e1a5ed7]{top:0;right:-3px;width:5px;cursor:e-resize}.crop-point[data-v-2e1a5ed7]{position:absolute;width:8px;height:8px;opacity:.75;background-color:#39f;border-radius:100%}.point1[data-v-2e1a5ed7]{top:-4px;left:-4px;cursor:nw-resize}.point2[data-v-2e1a5ed7]{top:-5px;left:50%;margin-left:-3px;cursor:n-resize}.point3[data-v-2e1a5ed7]{top:-4px;right:-4px;cursor:ne-resize}.point4[data-v-2e1a5ed7]{top:50%;left:-4px;margin-top:-3px;cursor:w-resize}.point5[data-v-2e1a5ed7]{top:50%;right:-4px;margin-top:-3px;cursor:w-resize}.point6[data-v-2e1a5ed7]{bottom:-5px;left:-4px;cursor:sw-resize}.point7[data-v-2e1a5ed7]{bottom:-5px;left:50%;margin-left:-3px;cursor:s-resize}.point8[data-v-2e1a5ed7]{bottom:-5px;right:-4px;cursor:nw-resize}@media screen and (max-width:500px){.crop-point[data-v-2e1a5ed7]{position:absolute;width:20px;height:20px;opacity:.45;background-color:#39f;border-radius:100%}.point1[data-v-2e1a5ed7]{top:-10px;left:-10px}.point2[data-v-2e1a5ed7],.point4[data-v-2e1a5ed7],.point5[data-v-2e1a5ed7],.point7[data-v-2e1a5ed7]{display:none}.point3[data-v-2e1a5ed7]{top:-10px;right:-10px}.point4[data-v-2e1a5ed7]{top:0;left:0}.point6[data-v-2e1a5ed7]{bottom:-10px;left:-10px}.point8[data-v-2e1a5ed7]{bottom:-10px;right:-10px}}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var o=this[t];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(i[n]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),e.push(a))}},e}},function(e,t,o){var i,r;(function(){function o(e){return!!e.exifdata}function a(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var o=atob(e),i=o.length,r=new ArrayBuffer(i),n=new Uint8Array(r),a=0;a<i;a++)n[a]=o.charCodeAt(a);return r}function s(e,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},o.send()}function c(e,t){function o(o){var i=h(o);e.exifdata=i||{};var r=p(o);if(e.iptcdata=r||{},b.isXmpEnabled){var n=w(o);e.xmpdata=n||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var i=a(e.src);o(i)}else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(e){o(e.target.result)},s(e.src,(function(e){r.readAsArrayBuffer(e)}))}else{var n=new XMLHttpRequest;n.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";o(n.response),n=null},n.open("GET",e.src,!0),n.responseType="arraybuffer",n.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){r=new FileReader;r.onload=function(e){y&&console.log("Got file of length "+e.target.result.byteLength),o(e.target.result)},r.readAsArrayBuffer(e)}}function h(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var o,i=2,r=e.byteLength;i<r;){if(255!=t.getUint8(i))return y&&console.log("Not a valid marker at offset "+i+", found: "+t.getUint8(i)),!1;if(o=t.getUint8(i+1),y&&console.log(o),225==o)return y&&console.log("Found 0xFFE1 marker"),v(t,i+4,t.getUint16(i+2));i+=2+t.getUint16(i+2)}}function p(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var o=2,i=e.byteLength;o<i;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,o)){var r=t.getUint8(o+7);return r%2!=0&&(r+=1),0===r&&(r=4),l(e,o+8+r,t.getUint16(o+6+r))}o++}}function l(e,t,o){for(var i,r,n,a,s=new DataView(e),c={},h=t;h<t+o;)28===s.getUint8(h)&&2===s.getUint8(h+1)&&(a=s.getUint8(h+2))in X&&(n=s.getInt16(h+3),r=X[a],i=m(s,h+5,n),c.hasOwnProperty(r)?c[r]instanceof Array?c[r].push(i):c[r]=[c[r],i]:c[r]=i),h++;return c}function u(e,t,o,i,r){var n,a,s,c=e.getUint16(o,!r),h={};for(s=0;s<c;s++)n=o+12*s+2,a=i[e.getUint16(n,!r)],!a&&y&&console.log("Unknown tag: "+e.getUint16(n,!r)),h[a]=d(e,n,t,o,r);return h}function d(e,t,o,i,r){var n,a,s,c,h,p,l=e.getUint16(t+2,!r),u=e.getUint32(t+4,!r),d=e.getUint32(t+8,!r)+o;switch(l){case 1:case 7:if(1==u)return e.getUint8(t+8,!r);for(n=u>4?d:t+8,a=[],c=0;c<u;c++)a[c]=e.getUint8(n+c);return a;case 2:return n=u>4?d:t+8,m(e,n,u-1);case 3:if(1==u)return e.getUint16(t+8,!r);for(n=u>2?d:t+8,a=[],c=0;c<u;c++)a[c]=e.getUint16(n+2*c,!r);return a;case 4:if(1==u)return e.getUint32(t+8,!r);for(a=[],c=0;c<u;c++)a[c]=e.getUint32(d+4*c,!r);return a;case 5:if(1==u)return h=e.getUint32(d,!r),p=e.getUint32(d+4,!r),s=new Number(h/p),s.numerator=h,s.denominator=p,s;for(a=[],c=0;c<u;c++)h=e.getUint32(d+8*c,!r),p=e.getUint32(d+4+8*c,!r),a[c]=new Number(h/p),a[c].numerator=h,a[c].denominator=p;return a;case 9:if(1==u)return e.getInt32(t+8,!r);for(a=[],c=0;c<u;c++)a[c]=e.getInt32(d+4*c,!r);return a;case 10:if(1==u)return e.getInt32(d,!r)/e.getInt32(d+4,!r);for(a=[],c=0;c<u;c++)a[c]=e.getInt32(d+8*c,!r)/e.getInt32(d+4+8*c,!r);return a}}function f(e,t,o){var i=e.getUint16(t,!o);return e.getUint32(t+2+12*i,!o)}function g(e,t,o,i){var r=f(e,t+o,i);if(!r)return{};if(r>e.byteLength)return{};var n=u(e,t,t+r,O,i);if(n.Compression)switch(n.Compression){case 6:if(n.JpegIFOffset&&n.JpegIFByteCount){var a=t+n.JpegIFOffset,s=n.JpegIFByteCount;n.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",n.Compression)}else 2==n.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return n}function m(e,t,o){var i="";for(n=t;n<t+o;n++)i+=String.fromCharCode(e.getUint8(n));return i}function v(e,t){if("Exif"!=m(e,t,4))return y&&console.log("Not valid EXIF data! "+m(e,t,4)),!1;var o,i,r,n,a,s=t+6;if(18761==e.getUint16(s))o=!1;else{if(19789!=e.getUint16(s))return y&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;o=!0}if(42!=e.getUint16(s+2,!o))return y&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=e.getUint32(s+4,!o);if(c<8)return y&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!o)),!1;if(i=u(e,s,s+c,I,o),i.ExifIFDPointer)for(r in n=u(e,s,s+i.ExifIFDPointer,S,o),n){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":n[r]=P[r][n[r]];break;case"ExifVersion":case"FlashpixVersion":n[r]=String.fromCharCode(n[r][0],n[r][1],n[r][2],n[r][3]);break;case"ComponentsConfiguration":n[r]=P.Components[n[r][0]]+P.Components[n[r][1]]+P.Components[n[r][2]]+P.Components[n[r][3]]}i[r]=n[r]}if(i.GPSInfoIFDPointer)for(r in a=u(e,s,s+i.GPSInfoIFDPointer,M,o),a){switch(r){case"GPSVersionID":a[r]=a[r][0]+"."+a[r][1]+"."+a[r][2]+"."+a[r][3]}i[r]=a[r]}return i.thumbnail=g(e,s,c,o),i}function w(e){if("DOMParser"in self){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var o=2,i=e.byteLength,r=new DOMParser;o<i-4;){if("http"==m(t,o,4)){var n=o-1,a=t.getUint16(o-2)-1,s=m(t,n,a),c=s.indexOf("xmpmeta>")+8;s=s.substring(s.indexOf("<x:xmpmeta"),c);var h=s.indexOf("x:xmpmeta")+10;return s=s.slice(0,h)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(h),x(r.parseFromString(s,"text/xml"))}o++}}}function C(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes.item(o);t["@attributes"][i.nodeName]=i.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var n=e.childNodes.item(r),a=n.nodeName;if(null==t[a])t[a]=C(n);else{if(null==t[a].push){var s=t[a];t[a]=[],t[a].push(s)}t[a].push(C(n))}}return t}function x(e){try{var t={};if(e.children.length>0)for(var o=0;o<e.children.length;o++){var i=e.children.item(o),r=i.attributes;for(var n in r){var a=r[n],s=a.nodeName,c=a.nodeValue;void 0!==s&&(t[s]=c)}var h=i.nodeName;if(void 0===t[h])t[h]=C(i);else{if(void 0===t[h].push){var p=t[h];t[h]=[],t[h].push(p)}t[h].push(C(i))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}var y=!1,b=function(e){return e instanceof b?e:this instanceof b?void(this.EXIFwrapped=e):new b(e)};void 0!==e&&e.exports&&(t=e.exports=b),t.EXIF=b;var S=b.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},I=b.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},M=b.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},O=b.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},P=b.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},X={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};b.enableXmp=function(){b.isXmpEnabled=!0},b.disableXmp=function(){b.isXmpEnabled=!1},b.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(o(e)?t&&t.call(e):c(e,t),!0)},b.getTag=function(e,t){if(o(e))return e.exifdata[t]},b.getIptcTag=function(e,t){if(o(e))return e.iptcdata[t]},b.getAllTags=function(e){if(!o(e))return{};var t,i=e.exifdata,r={};for(t in i)i.hasOwnProperty(t)&&(r[t]=i[t]);return r},b.getAllIptcTags=function(e){if(!o(e))return{};var t,i=e.iptcdata,r={};for(t in i)i.hasOwnProperty(t)&&(r[t]=i[t]);return r},b.pretty=function(e){if(!o(e))return"";var t,i=e.exifdata,r="";for(t in i)i.hasOwnProperty(t)&&("object"==typeof i[t]?i[t]instanceof Number?r+=t+" : "+i[t]+" ["+i[t].numerator+"/"+i[t].denominator+"]\r\n":r+=t+" : ["+i[t].length+" values]\r\n":r+=t+" : "+i[t]+"\r\n");return r},b.readFromBinaryFile=function(e){return h(e)},i=[],void 0!==(r=function(){return b}.apply(t,i))&&(e.exports=r)}).call(this)},function(e,t,o){"use strict";function i(e,t,o,i,r,n,a,s){e=e||{};var c=typeof e.default;"object"!==c&&"function"!==c||(e=e.default);var h,p="function"==typeof e?e.options:e;if(t&&(p.render=t,p.staticRenderFns=o,p._compiled=!0),i&&(p.functional=!0),n&&(p._scopeId=n),a?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},p._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(p.functional){p._injectStyles=h;var l=p.render;p.render=function(e,t){return h.call(t),l(e,t)}}else{var u=p.beforeCreate;p.beforeCreate=u?[].concat(u,h):[h]}return{exports:e,options:p}}t.a=i},function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancleScale}},[o("div",{staticClass:"cropper-box"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[o("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]),e._v(" "),o("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[o("span",{staticClass:"cropper-view-box"},[o("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),o("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?o("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v("\n          "+e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height)+"\n        ")]):e._e(),e._v(" "),e.fixedBox?e._e():o("span",[o("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),o("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),o("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),o("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),o("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),o("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),o("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),o("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),o("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),o("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),o("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),o("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])},r=[]},function(e,t,o){var i=o(3);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o(9).default;r("7870ecd0",i,!0,{})},function(e,t,o){"use strict";function i(e,t,i,n){g=i,v=n||{};var a=o.i(h.a)(e,t);return r(a),function(t){for(var i=[],n=0;n<a.length;n++){var s=a[n],c=l[s.id];c.refs--,i.push(c)}t?(a=o.i(h.a)(e,t),r(a)):a=[];for(n=0;n<i.length;n++){c=i[n];if(0===c.refs){for(var p=0;p<c.parts.length;p++)c.parts[p]();delete l[c.id]}}}}function r(e){for(var t=0;t<e.length;t++){var o=e[t],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(a(o.parts[r]));i.parts.length>o.parts.length&&(i.parts.length=o.parts.length)}else{var n=[];for(r=0;r<o.parts.length;r++)n.push(a(o.parts[r]));l[o.id]={id:o.id,refs:1,parts:n}}}}function n(){var e=document.createElement("style");return e.type="text/css",u.appendChild(e),e}function a(e){var t,o,i=document.querySelector("style["+w+'~="'+e.id+'"]');if(i){if(g)return m;i.parentNode.removeChild(i)}if(C){var r=f++;i=d||(d=n()),t=s.bind(null,i,r,!1),o=s.bind(null,i,r,!0)}else i=n(),t=c.bind(null,i),o=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else o()}}function s(e,t,o,i){var r=o?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var n=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function c(e,t){var o=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),v.ssrId&&e.setAttribute(w,t.id),r&&(o+="\n/*# sourceURL="+r.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var h=o(10),p="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!p)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},u=p&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,g=!1,m=function(){},v=null,w="data-vue-ssr-id",C="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),x=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}()},function(e,t,o){"use strict";function i(e,t){for(var o=[],i={},r=0;r<t.length;r++){var n=t[r],a=n[0],s=n[1],c=n[2],h=n[3],p={id:e+":"+r,css:s,media:c,sourceMap:h};i[a]?i[a].parts.push(p):o.push(i[a]={id:a,parts:[p]})}return o}t.a=i}])}))},a808:function(e,t,o){},e634:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"m-Upload",attrs:{id:"imgCropper"}},[""!=e.getImageUrl?o("div",{staticClass:"upload-show"},[o("div",{staticClass:"upload-img-wrap"},[o("img",{staticClass:"upload-image",attrs:{src:e.getImageUrl,alt:"图片加载失败"},on:{error:e.notFoundPic}})]),o("div",{staticClass:"upload-mask"},[e.preview?o("Icon",{staticClass:"g-mr10",attrs:{type:"md-eye"},nativeOn:{click:function(t){return e.viewImage(t)}}}):e._e(),o("Icon",{attrs:{type:"md-create"},nativeOn:{click:function(t){return e.uploadClick(t)}}})],1)]):e._e(),o("div",{staticClass:"clearfix"}),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showUploadBtn,expression:"showUploadBtn"}],staticClass:"upload-btn",on:{click:e.uploadClick}},[o("Icon",{attrs:{type:"md-camera",size:"20"}}),o("input",{ref:"imgFile",attrs:{type:"file",accept:e.format,hidden:""},on:{change:e.selectFile}})],1),o("div",{staticClass:"clearfix"}),"finished"!=e.uploadStatus?[e.showProgress?o("Progress",{staticStyle:{width:"340px"},attrs:{percent:e.percentage,"hide-info":"","stroke-width":3}}):e._e()]:e._e(),o("br"),o("span",{staticClass:"hint"},[e._v("\n        * 图片格式要求：jpg、jpeg、png，\n        "),e.sizeHint?o("span",[e._v("建议尺寸： "+e._s(e.sizeHint)+"，")]):e._e(),e._v("\n        文件大小为\n        "),e.fileSize<1024?o("span",[e._v(e._s(e.fileSize)+"kb")]):o("span",[e._v(e._s(Math.floor(e.fileSize/1024))+"M")]),e._v("\n        以内。\n    ")]),o("Modal",{staticClass:"m-cropper-img",attrs:{title:e.cropImgModel.title,width:"900"},on:{"on-cancel":e.hideCropModel},model:{value:e.cropImgModel.show,callback:function(t){e.$set(e.cropImgModel,"show",t)},expression:"cropImgModel.show"}},[o("div",{staticClass:"img-cropper-area"},[o("vueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:!0,canScale:e.option.canScale,autoCrop:e.option.autoCrop,autoCropWidth:e.autoCropWidth,autoCropHeight:e.autoCropHeight,fixed:e.fixed,fixedNumber:e.fixedNumber},on:{realTime:e.realTime}})],1),o("div",{staticClass:"img-preview-area"},[o("div",{staticClass:"preview",style:e.previewStyle},[e.previews?o("div",{style:e.previews.div},[o("img",{style:e.previews.img,attrs:{src:e.previews.url}})]):o("span",[e._v("裁剪预览区域")])])]),o("div",{staticClass:"clearfix"}),o("div",{staticClass:"img-button-area"},[o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.changeScale(1)}}},[o("Icon",{attrs:{type:"md-add"}})],1),o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.changeScale(-1)}}},[o("Icon",{attrs:{type:"md-remove"}})],1),o("Button",{attrs:{type:"primary"},on:{click:e.rotateRight}},[o("Icon",{attrs:{type:"md-refresh"}})],1)],1),o("div",{staticStyle:{"margin-top":"10px"}},[o("span",{staticClass:"hint"},[e._v("\n                * 图片格式要求：jpg、jpeg、png，\n                "),e.sizeHint?o("span",[e._v("建议尺寸： "+e._s(e.sizeHint)+"，")]):e._e(),e._v("\n                文件大小为\n                "),e.fileSize<1024?o("span",[e._v(e._s(e.fileSize)+"kb")]):o("span",[e._v(e._s(Math.floor(e.fileSize/1024))+"M")]),e._v("\n                以内。\n            ")])]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"default"},on:{click:e.hideCropModel}},[e._v("取消")]),o("Button",{attrs:{type:"primary"},on:{click:e.comfirCropper}},[e._v("确认裁剪")])],1)]),o("Modal",{staticClass:"m-view-img",attrs:{title:"查看图片",width:"600"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("img",{attrs:{src:e.getImageUrl},on:{error:e.notFoundPic}}),o("div",{attrs:{slot:"footer"},slot:"footer"})])],2)},r=[],n=o("7618"),a=(o("7f7f"),o("c5f6"),o("7e79")),s=o.n(a),c=(o("ff51"),o("1b62")),h={name:"imgCropper",mixins:[c["f"]],components:{vueCropper:s.a},props:{src:{type:String,default:""},preview:{type:Boolean,default:!1},sizeHint:{type:String,default:"100*100px"},fileSize:{type:Number,default:150},autoCropWidth:{type:Number,default:100},autoCropHeight:{type:Number,default:100},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[4,3]}}},data:function(){return{cropImgModel:{title:"裁剪图片",show:!1},option:{img:"",size:1,outputType:"jpg",canScale:!1,autoCrop:!0},previews:{},previewStyle:{},cropImgUrl:"",getImageUrl:""}},watch:{src:function(e){e&&(this.showUploadBtn=!1,this.getImageUrl=this.src)}},created:function(){this.src&&(this.showUploadBtn=!1,this.getImageUrl=this.src)},methods:{uploadClick:function(){this.$refs.imgFile.click()},comfirCropper:function(){var e=this;this.progressShow();var t=setInterval((function(){90==e.percentage&&clearInterval(t),e.percentage+=10}),100),o=this.$refs.imgFile.files;this.$refs.cropper.getCropBlob((function(t){t.lastModifiedDate=new Date;var i=Bmob.File(o[0].name,t);e.uploadToBomb(i).then((function(t){e.getImageUrl=t[0].url,e.$emit("get-img-url",e.getImageUrl),e.hideCropModel()})).catch((function(t){console.log(t),e.hideCropModel()}))}))},hideCropModel:function(){this.cropImgModel.show=!1,this.$refs.cropper.clearCrop(),this.option.img="",this.cropImgUrl=""},selectFile:function(){var e=this,t=this.$refs.imgFile.files;if(t.length>0){var o=t[0].name,i=Math.floor(t[0].size/1024),r=this.fileSize,a=r+"kb";if(i>r)return r>1024&&(a=Math.floor(r/1024)+"M"),this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+o+" 太大，不能超过 "+a}),this.progressHide(),!1;this.cropImgModel.show=!0;var s=t[0],c=new FileReader;c.onload=function(t){var o;o="object"===Object(n["a"])(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,e.option.img=o;var i=document.querySelector(".img-cropper-area");i.style.height="500px"},c.readAsArrayBuffer(s)}else console.log("获取不到文件列表")},changeScale:function(e){this.$refs.cropper.changeScale(e)},rotateRight:function(){this.$refs.cropper.rotateRight()},realTime:function(e){this.previews=e,this.previewStyle={width:e.w+"px",height:e.h+"px",overflow:"hidden",margin:"0 auto",zoom:.6}},previewImg:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob((function(e){t.cropImgUrl=window.URL.createObjectURL(e)})):this.$refs.cropper.getCropData((function(e){t.cropImgUrl=e}))}}},p=h,l=(o("039c"),o("2877")),u=Object(l["a"])(p,i,r,!1,null,"776a17da",null);t["a"]=u.exports}}]);